{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shahn\\\\OneDrive\\\\\\u30C9\\u30AD\\u30E5\\u30E1\\u30F3\\u30C8\\\\GitHub\\\\LandLytics_Backend\\\\Database Integration\\\\src\\\\sample reg filter\\\\RegulationFilterPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport FilterDropdown from \"./FilterDropdown\";\nimport axios from \"axios\";\nimport styles from \"./RegulationFilter.module.css\";\nimport Sidebar from \"../CommonComponents/Sidebar\";\nimport TopBar from \"./TopBar\";\n\n// Fallback static data\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst staticCategories = {\n  subdivision: [\"General Requirements\", \"Survey Requirements\", \"Survey Plan Standards\", \"Plot Size Regulations\"],\n  development: [\"Street\", \"Road and Water Body Compliance\"],\n  infrastructure: [\"Road Access Rules\"],\n  community: [\"Community Space Requirement\"],\n  residential: [\"Subdivision Exemption\"],\n  building: [\"Development Permit Validity\"],\n  planning: [\"Site Plan Requirements\"],\n  safety: [\"Fire Safety Compliance\"]\n};\nfunction RegulationFilterPage() {\n  _s();\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState({});\n  const [filters, setFilters] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Fetch categories on component mount\n  useEffect(() => {\n    setLoading(true);\n    axios.get(\"http://127.0.0.1:5000/api/categories\").then(response => setCategories(response.data)).catch(() => {\n      console.warn(\"Using fallback static data due to API error.\");\n      setCategories(staticCategories); // Fallback to static data\n    }).finally(() => setLoading(false));\n  }, []);\n  const handleFilterChange = (category, value) => {\n    setFilters(prevFilters => ({\n      ...prevFilters,\n      [category]: value\n    }));\n  };\n  const handleGenerateReport = () => {\n    if (Object.keys(filters).length === 0) {\n      setError(\"Please select at least one filter before generating the report.\");\n      return;\n    }\n    setLoading(true);\n    axios.get(\"http://localhost:5000/api/regulation-filter\", {\n      params: filters\n    }).then(response => {\n      navigate(\"/regulation-report\", {\n        state: {\n          data: response.data\n        }\n      });\n    }).catch(error => {\n      console.error(\"Error fetching filtered regulations:\", error);\n      setError(\"Failed to generate the report. Please try again later.\");\n    }).finally(() => setLoading(false));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.mainContent,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.contentArea,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.title,\n          children: \"FILTER REGULATIONS BY...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 23\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.error,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), Object.keys(categories).map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FilterDropdown, {\n            placeholderText: `Eg: Select ${category}`,\n            items: categories[category],\n            onChange: value => handleFilterChange(category, value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, category, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.generateReportButton,\n          onClick: handleGenerateReport,\n          disabled: loading || Object.keys(filters).length === 0,\n          children: loading ? \"Generating...\" : \"GENERATE REPORT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(RegulationFilterPage, \"TepzuZNzBSTAJ/b0i31kdt3Ttbs=\", false, function () {\n  return [useNavigate];\n});\n_c = RegulationFilterPage;\nexport default RegulationFilterPage;\nvar _c;\n$RefreshReg$(_c, \"RegulationFilterPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FilterDropdown","axios","styles","Sidebar","TopBar","jsxDEV","_jsxDEV","staticCategories","subdivision","development","infrastructure","community","residential","building","planning","safety","RegulationFilterPage","_s","navigate","categories","setCategories","filters","setFilters","loading","setLoading","error","setError","get","then","response","data","catch","console","warn","finally","handleFilterChange","category","value","prevFilters","handleGenerateReport","Object","keys","length","params","state","className","container","children","fileName","_jsxFileName","lineNumber","columnNumber","mainContent","contentArea","title","map","placeholderText","items","onChange","generateReportButton","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/shahn/OneDrive/ドキュメント/GitHub/LandLytics_Backend/Database Integration/src/sample reg filter/RegulationFilterPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport FilterDropdown from \"./FilterDropdown\";\r\nimport axios from \"axios\";\r\nimport styles from \"./RegulationFilter.module.css\";\r\nimport Sidebar from \"../CommonComponents/Sidebar\";\r\nimport TopBar from \"./TopBar\";\r\n\r\n// Fallback static data\r\nconst staticCategories = {\r\n  subdivision: [\"General Requirements\", \"Survey Requirements\", \"Survey Plan Standards\", \"Plot Size Regulations\"],\r\n  development: [\"Street\", \"Road and Water Body Compliance\"],\r\n  infrastructure: [\"Road Access Rules\"],\r\n  community: [\"Community Space Requirement\"],\r\n  residential: [\"Subdivision Exemption\"],\r\n  building: [\"Development Permit Validity\"],\r\n  planning: [\"Site Plan Requirements\"],\r\n  safety: [\"Fire Safety Compliance\"],\r\n};\r\n\r\nfunction RegulationFilterPage() {\r\n  const navigate = useNavigate();\r\n  const [categories, setCategories] = useState({});\r\n  const [filters, setFilters] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Fetch categories on component mount\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    axios\r\n      .get(\"http://127.0.0.1:5000/api/categories\")\r\n      .then((response) => setCategories(response.data))\r\n      .catch(() => {\r\n        console.warn(\"Using fallback static data due to API error.\");\r\n        setCategories(staticCategories); // Fallback to static data\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  const handleFilterChange = (category, value) => {\r\n    setFilters((prevFilters) => ({\r\n      ...prevFilters,\r\n      [category]: value,\r\n    }));\r\n  };\r\n\r\n  const handleGenerateReport = () => {\r\n    if (Object.keys(filters).length === 0) {\r\n      setError(\"Please select at least one filter before generating the report.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    axios\r\n      .get(\"http://localhost:5000/api/regulation-filter\", { params: filters })\r\n      .then((response) => {\r\n        navigate(\"/regulation-report\", { state: { data: response.data } });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching filtered regulations:\", error);\r\n        setError(\"Failed to generate the report. Please try again later.\");\r\n      })\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div>\r\n        <Sidebar />\r\n        <TopBar />\r\n      </div>\r\n\r\n      <main className={styles.mainContent}>\r\n        <div className={styles.contentArea}>\r\n          <h1 className={styles.title}>FILTER REGULATIONS BY...</h1>\r\n\r\n          {loading && <p>Loading...</p>}\r\n          {error && <p className={styles.error}>{error}</p>}\r\n\r\n          {Object.keys(categories).map((category) => (\r\n            <div key={category}>\r\n              <h3>{category}</h3>\r\n              <FilterDropdown\r\n                placeholderText={`Eg: Select ${category}`}\r\n                items={categories[category]}\r\n                onChange={(value) => handleFilterChange(category, value)}\r\n              />\r\n              <br />\r\n            </div>\r\n          ))}\r\n\r\n          <button\r\n            className={styles.generateReportButton}\r\n            onClick={handleGenerateReport}\r\n            disabled={loading || Object.keys(filters).length === 0}\r\n          >\r\n            {loading ? \"Generating...\" : \"GENERATE REPORT\"}\r\n          </button>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegulationFilterPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}