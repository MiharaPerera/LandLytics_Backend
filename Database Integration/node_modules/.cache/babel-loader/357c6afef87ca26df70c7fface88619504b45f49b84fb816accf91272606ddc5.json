{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shahn\\\\OneDrive\\\\\\u30C9\\u30AD\\u30E5\\u30E1\\u30F3\\u30C8\\\\GitHub\\\\LandLytics_Backend\\\\Database Integration\\\\src\\\\sample reg filter\\\\RegulationFilterPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport FilterDropdown from \"./FilterDropdown\";\nimport axios from \"axios\";\nimport styles from \"./RegulationFilter.module.css\";\nimport Sidebar from \"../CommonComponents/Sidebar\";\nimport TopBar from \"./TopBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RegulationFilterPage() {\n  _s();\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  const [subCategories, setSubCategories] = useState({});\n  const [filters, setFilters] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Fetch categories on component mount\n  useEffect(() => {\n    setLoading(true);\n    axios.get(\"http://localhost:5000/api/categories\").then(response => setCategories(response.data)).catch(error => {\n      console.error(\"Error fetching categories:\", error);\n      setError(\"Failed to fetch categories. Please try again later.\");\n    }).finally(() => setLoading(false));\n  }, []);\n\n  // Fetch sub-categories when a category is selected\n  const handleCategoryChange = category => {\n    if (category) {\n      setLoading(true);\n      axios.get(`http://localhost:5000/api/subcategories?category=${category}`).then(response => {\n        setSubCategories(prev => ({\n          ...prev,\n          [category]: response.data\n        }));\n      }).catch(error => {\n        console.error(`Error fetching sub-categories for ${category}:`, error);\n        setError(\"Failed to fetch sub-categories. Please try again later.\");\n      }).finally(() => setLoading(false));\n    }\n  };\n  const handleFilterChange = (category, value) => {\n    setFilters(prevFilters => ({\n      ...prevFilters,\n      [category]: value\n    }));\n  };\n  const handleGenerateReport = () => {\n    setLoading(true);\n    axios.post(\"http://localhost:5000/api/regulations\", {\n      filters\n    }).then(response => {\n      navigate(\"/regulation-report\", {\n        state: {\n          data: response.data\n        }\n      });\n    }).catch(error => {\n      console.error(\"Error fetching filtered regulations:\", error);\n      setError(\"Failed to generate the report. Please try again later.\");\n    }).finally(() => setLoading(false));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.mainContent,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.contentArea,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.title,\n          children: \"FILTER REGULATIONS BY...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 23\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.error,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FilterDropdown, {\n            placeholderText: `Eg: Select ${category}`,\n            items: subCategories[category] || [],\n            onChange: value => handleFilterChange(category, value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, category, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.generateReportButton,\n          onClick: handleGenerateReport,\n          disabled: loading,\n          children: loading ? \"Generating...\" : \"GENERATE REPORT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(RegulationFilterPage, \"GCLajMkPYEpXgrCx1gJWvB5ee8k=\", false, function () {\n  return [useNavigate];\n});\n_c = RegulationFilterPage;\nexport default RegulationFilterPage;\nvar _c;\n$RefreshReg$(_c, \"RegulationFilterPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FilterDropdown","axios","styles","Sidebar","TopBar","jsxDEV","_jsxDEV","RegulationFilterPage","_s","navigate","categories","setCategories","subCategories","setSubCategories","filters","setFilters","loading","setLoading","error","setError","get","then","response","data","catch","console","finally","handleCategoryChange","category","prev","handleFilterChange","value","prevFilters","handleGenerateReport","post","state","className","container","children","fileName","_jsxFileName","lineNumber","columnNumber","mainContent","contentArea","title","map","placeholderText","items","onChange","generateReportButton","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/shahn/OneDrive/ドキュメント/GitHub/LandLytics_Backend/Database Integration/src/sample reg filter/RegulationFilterPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport FilterDropdown from \"./FilterDropdown\";\r\nimport axios from \"axios\";\r\nimport styles from \"./RegulationFilter.module.css\";\r\nimport Sidebar from \"../CommonComponents/Sidebar\";\r\nimport TopBar from \"./TopBar\";\r\n\r\nfunction RegulationFilterPage() {\r\n  const navigate = useNavigate();\r\n  const [categories, setCategories] = useState([]);\r\n  const [subCategories, setSubCategories] = useState({});\r\n  const [filters, setFilters] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Fetch categories on component mount\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    axios\r\n      .get(\"http://localhost:5000/api/categories\")\r\n      .then((response) => setCategories(response.data))\r\n      .catch((error) => {\r\n        console.error(\"Error fetching categories:\", error);\r\n        setError(\"Failed to fetch categories. Please try again later.\");\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  // Fetch sub-categories when a category is selected\r\n  const handleCategoryChange = (category) => {\r\n    if (category) {\r\n      setLoading(true);\r\n      axios\r\n        .get(`http://localhost:5000/api/subcategories?category=${category}`)\r\n        .then((response) => {\r\n          setSubCategories((prev) => ({\r\n            ...prev,\r\n            [category]: response.data,\r\n          }));\r\n        })\r\n        .catch((error) => {\r\n          console.error(`Error fetching sub-categories for ${category}:`, error);\r\n          setError(\"Failed to fetch sub-categories. Please try again later.\");\r\n        })\r\n        .finally(() => setLoading(false));\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (category, value) => {\r\n    setFilters((prevFilters) => ({\r\n      ...prevFilters,\r\n      [category]: value,\r\n    }));\r\n  };\r\n\r\n  const handleGenerateReport = () => {\r\n    setLoading(true);\r\n    axios\r\n      .post(\"http://localhost:5000/api/regulations\", { filters })\r\n      .then((response) => {\r\n        navigate(\"/regulation-report\", { state: { data: response.data } });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching filtered regulations:\", error);\r\n        setError(\"Failed to generate the report. Please try again later.\");\r\n      })\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div>\r\n        <Sidebar />\r\n        <TopBar />\r\n      </div>\r\n\r\n      <main className={styles.mainContent}>\r\n        <div className={styles.contentArea}>\r\n          <h1 className={styles.title}>FILTER REGULATIONS BY...</h1>\r\n\r\n          {loading && <p>Loading...</p>}\r\n          {error && <p className={styles.error}>{error}</p>}\r\n\r\n          {categories.map((category) => (\r\n            <div key={category}>\r\n              <h3>{category}</h3>\r\n              <FilterDropdown\r\n                placeholderText={`Eg: Select ${category}`}\r\n                items={subCategories[category] || []}\r\n                onChange={(value) => handleFilterChange(category, value)}\r\n              />\r\n              <br />\r\n            </div>\r\n          ))}\r\n\r\n          <button\r\n            className={styles.generateReportButton}\r\n            onClick={handleGenerateReport}\r\n            disabled={loading}\r\n          >\r\n            {loading ? \"Generating...\" : \"GENERATE REPORT\"}\r\n          </button>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegulationFilterPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}